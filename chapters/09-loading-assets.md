# Loading Images

Along with Styles, we can also use Webpack to handle image assets (among others). This is useful because we may want to import images to be used in markup generated by our JavaScript.

## Including an Image

In the 'resources' folder of this project, there are two images available - 'prudence.jpg' and 'webpack.jpg'. Create a folder called 'images' inside of the 'src' directory and put the images in there.

Now, in our 'script.js' file (or any other module), we can import our images in by putting the path to the file.

```
import prudence from './images/prudence.jpg';
import webpack from './images/webpack.jpg';
```

We can now use the imported files as references within our application.

```
app.innerHTML = `
  <p>Hello ${data.location}!</p>
  <div><img src='${prudence}' /></div>
  <div><img src='${webpack}' /></div>
`;
```

However if we run Webpack, we'll get an error that we need a loader to handle the file type. That's Webpack's way of telling us that we need to set up a loader rule to handle a file type.

## file-loader

The first tool we'll look at will help us simply import a file type into our application. Using 'file-loader', we'll import image file types, but it can be used to handle the import of font files (Example in React project) and other assets.

`npm i file-loader --save-dev`

Next, let's add a rule to our Webpack configuration to handle image file types. Instead of simply looking for jpg files though, we'll create a regex test for jpgs, pngs and gifs.

```
{
  test: /\.(png|gif|jpg)$/,
  use: [],
  exclude: '/node_modules/'
},
```

Next, we'll tell the rule to use 'file-loader'.

```
{
  test: /\.(png|gif|jpg)$/,
  use: ['file-loader'],
  exclude: '/node_modules/'
},
```

Be sure to restart your webpack server, and you will see the images being imported.

If you inspect the image tags, you'll see that the file name has been replaced with a hash automatically. This is useful for cache-busting assets.

As well, if we run `npm run build`, the assets will be exported to our 'dist' directory with the file hashes included.

## url-loader
Another way to handle assets in your project is to use 'url-loader'. This tool allows us to return an inline base64 data value if our image is smaller than a specified size. This is great for our application as we can minimize the number of network requests made.

`npm i url-loader --save-dev`

We can swap the loader used for our image assets to 'url-loader'.

```
{
  test: /\.(png|gif|jpg)$/,
  use: ['url-loader'],
  exclude: '/node_modules/'
},
```

To inline image assets that are below a specified value, we can provide a parameter to the loader with a byte size to limit our assets to. The below example will inline any png/gif/jpg files that are imported and are below 20kb.

```
{
  test: /\.(png|gif|jpg)$/,
  use: ['url-loader?limit=20000'],
  exclude: '/node_modules/'
},
```

When we run `npm run build`, only the large image will be exported to the 'dist' folder, while the smaller image will be delivered inline via JS.

[Sourcemaps](10-sourcemaps.md)
